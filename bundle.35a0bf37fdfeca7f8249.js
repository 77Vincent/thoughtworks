!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(9)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var i={is:function(e){return function(t){return Object.prototype.toString.call(e)===Object.prototype.toString.call(t)}},isString:function(e){return i.is("")(e)},isBool:function(e){return i.is(!0)(e)},isNum:function(e){return i.is(1)(e)},isNull:function(e){return i.is(null)(e)},isUndefined:function(e){return i.is(void 0)(e)},isFunction:function(e){return i.is(function(){})(e)},isArray:function(e){return i.is([])(e)},isObject:function(e){return i.is({})(e)},assign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=i.isObject(e)?e:{};for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0;o<n.length;o++)for(var c=n[o],a=Object.keys(c),u=0;u<a.length;u++){var l=a[u];e[l]=c[l]}return e}},c={APP_IN_MOUNT_NOT_FUNCTION:"Mount only accept one function.",TEXT_NODE_IS_ARRAY:"The node should not be type of array.",PAYLOAD_ISNOT_PLAIN_OBJECT:"The returned payload in the dispatch function should be a plain object."},a=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"dispatch",function(e){var t=e(o.model);if(!i.isObject(t))throw new Error(c.PAYLOAD_ISNOT_PLAIN_OBJECT);i.assign(o.model,t),o._update()}),this.rootDOM=t,this.model=n,this.App=r,this.vDOM={},this.components=new Set([])}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"onMount",value:function(e,t){this.components.has(t)||e(),this.components.add(t)}},{key:"_update",value:function(){this.rootDOM.removeChild(this.rootDOM.children[0]),this.rootDOM.appendChild(this._render(this.App(this)))}},{key:"_render",value:function(e){var t=this;if(i.isString(e)||i.isBool(e)||i.isNum(e))return document.createTextNode(String(e));if(i.isNull(e))return document.createTextNode("");var n=e.props,r=n.className,o=n.onClick,c=n.style,a=n.src,u=document.createElement(e.type);if(a&&(u.src=a),r&&(u.className=r),o&&(u.onclick=o),c)for(var l=Object.keys(c),s=0;s<l.length;s++){var f=l[s];u.style[f]=c[f]}return e.children.map(function(e){return t._render(e)}).forEach(u.appendChild.bind(u)),u}}],[{key:"createApp",value:function(t,n,r){if(!i.isFunction(r))throw new Error(c.APP_IN_MOUNT_NOT_FUNCTION);var o=new e(t,n,r);return this.app=o,o.vDOM=r(o),o.rootDOM.appendChild(o._render(o.vDOM)),o}},{key:"createElement",value:function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),c=2;c<n;c++)o[c-2]=arguments[c];for(var a=[],u=0;u<o.length;u++){var l=o[u];i.isArray(l)?a.push.apply(a,r(l)):a.push(l)}if(i.isFunction(e)){var s=e(i.assign(t,{app:this.app,children:o}));e=s.type,t=s.props,o=s.children}else o=a;return{type:e=e||"div",props:t=t||{},children:o.map(function(e){return i.isFunction(e)?e():e})}}}]),e}(),u=(n(1),function(){return a.createElement("footer",{className:"App-footer"},a.createElement("div",{className:"container"},"Footer"))}),l=(n(2),function(e){var t=e.app;return a.createElement("header",{className:"App-header"},a.createElement("h1",{style:{marginBottom:"0.5em"}},t.model.title),a.createElement("h4",null,"Pure functional, simplified React-like UI library with built-in state management system."))}),s=(n(3),n(4),n(5),function(e){var t=e.children,n=e.onClick;return a.createElement("button",{className:"App-button",onClick:n},t)});function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m=function(e){var t=e.app,n=t.dispatch,r=function(e){var t=e.item,r=e.index;return a.createElement("li",{className:"App-todo-item"},a.createElement("h4",null,t.title),a.createElement("span",null,"Is completed: ",t.completed),a.createElement(s,{onClick:function(e){return function(){n(function(t){var n=d(t.todos),r=n.filter(function(t,n){return n===e}),o=Object.assign({},r[0]);return o.completed=!o.completed,n.splice(e,1,o),f({},t,{todos:n})})}}(r)},"Toggle status"),a.createElement(s,{onClick:function(e){return function(){n(function(t){var n=d(t.todos);return n.splice(e,1),f({},t,{todos:n})})}}(r)},"Remove"))};return a.createElement("div",{className:"App-todo"},a.createElement("div",{className:"App-todo-buttons"},a.createElement(s,{onClick:function(){n(function(e){return f({},e,{todos:d(e.todos).concat([{title:"New item",completed:!1}])})})}},"Add todo"),a.createElement(s,{onClick:function(){n(function(e){return f({},e,{todos:[]})})}},"Remove all todo"),a.createElement(s,{onClick:function(){n(function(e){return f({},e,{isPageLoading:!0})}),fetch("https://jsonplaceholder.typicode.com/todos").then(function(e){return e.json()}).then(function(e){t.dispatch(function(t){return f({},t,{todos:e.slice(0,5),isPageLoading:!1})})})}},"Reload all todo")),a.createElement("ol",null,t.model.todos.map(function(e,t){return a.createElement(r,{item:e,index:t})})))},h=function(e){var t=e.className;return a.createElement("div",{className:"App-layout ".concat(t)},a.createElement(m,null))},y=(n(6),function(e){var t=e.app;return a.createElement("div",{className:"App-loading",style:{visibility:t.model.isPageLoading?"visible":"hidden"}})});n(7),n(8);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function e(t){return t.onMount(function(){fetch("https://jsonplaceholder.typicode.com/todos").then(function(e){return e.json()}).then(function(e){t.dispatch(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}({},t,{todos:e.slice(0,5),isPageLoading:!1})})})},e),a.createElement("div",{className:"App-root"},a.createElement(y,null),a.createElement(l,null),a.createElement(h,{className:"container"}),a.createElement(u,null))};a.createApp(document.getElementById("root"),{title:"Welcome to Veact App",todos:[],isPageLoading:!0},v)}]);
//# sourceMappingURL=bundle.35a0bf37fdfeca7f8249.js.map